(this["webpackJsonpadopt-a-dog"]=this["webpackJsonpadopt-a-dog"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),l=a.n(o),c=(a(15),a(16),a(2));function s(){const[e,t]=Object(n.useState)(""),[a,o]=Object(n.useState)(""),l=Object(c.o)();return r.a.createElement("div",{className:"flex items-center justify-center h-screen bg-blue-50"},r.a.createElement("div",{className:"w-full max-w-xs"},r.a.createElement("h1",{className:"text-2xl font-bold text-center text-blue-700 mb-8"},"Adopt-a-Dog"),r.a.createElement("form",{onSubmit:async t=>{t.preventDefault(),console.log("attempting to log in");try{const t=await fetch("https://frontend-take-home-service.fetch.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:a}),credentials:"include"});if(t.ok){const e=await t.text();console.log("Login successful",e),l("/search")}else console.log("Login failed")}catch(n){console.log(n)}},className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name"},"Name"),r.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:"Name",value:e,onChange:e=>t(e.target.value),required:!0})),r.a.createElement("div",{className:"mb-6"},r.a.createElement("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"Email",value:a,onChange:e=>o(e.target.value),required:!0})),r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"},"Login")))))}var i=e=>{let{dog:t,addFavorites:a,favorites:n}=e;const o=n.includes(t.id);return r.a.createElement("div",{className:"max-w-sm rounded overflow-hidden shadow-lg m-4 hover:shadow-xl transition-shadow duration-300 bg-white"},r.a.createElement("img",{className:"w-full object-cover",src:t.img,alt:t.name}),r.a.createElement("div",{className:"px-6 py-4"},r.a.createElement("div",{className:"font-bold text-xl mb-2 text-blue-700"},t.name),r.a.createElement("p",{className:"text-gray-700 text-base"},"Age: ",t.age),r.a.createElement("p",{className:"text-gray-700 text-base"},"Breed: ",t.breed),r.a.createElement("p",{className:"text-gray-700 text-base"},"Zip Code: ",t.zip_code),r.a.createElement("div",{className:"mt-4"},r.a.createElement("label",{className:"inline-flex items-center"},r.a.createElement("input",{className:"form-checkbox h-5 w-5 text-blue-600",onChange:()=>{a(t.id)},checked:o,type:"checkbox"}),r.a.createElement("span",{className:"ml-2 text-gray-700"},"Add to Favorites")))))};const d=Object(n.createContext)();var m=()=>{const e=Object(c.o)();return r.a.createElement("button",{onClick:async()=>{try{(await fetch("https://frontend-take-home-service.fetch.com/auth/logout",{method:"POST",credentials:"include"})).ok?(console.log("Logged out successfully"),e("/")):console.log("Logout failed")}catch(t){console.error("There is an error with logging out:",t)}},className:"m-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},"Log Out")};function u(){const e=Object(c.o)(),[t,a]=Object(n.useState)([]),[o,l]=Object(n.useState)([]),[s,u]=Object(n.useState)(),[h,g]=Object(n.useState)("asc"),[b,p]=Object(n.useState)("asc"),[f,E]=Object(n.useState)(""),[v,y]=Object(n.useState)(""),[x,S]=Object(n.useState)([]),{setMatch:N}=Object(n.useContext)(d),w=async e=>{try{const t=await fetch("https://frontend-take-home-service.fetch.com/dogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(t.ok){const e=await t.json();return console.log("Retrieved single dog data successfully"),e}console.log("Could not retrieve single dog data")}catch(t){console.error("Error fetching dog details:",t)}},C=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e||"https://frontend-take-home-service.fetch.com/dogs/search?size=10&sort=breed:".concat(h);t&&(n+="&breeds=".concat(encodeURIComponent(t)));try{const e=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(e.ok){const t=await e.json();console.log("Retrieved dogs successfully:"),console.log(t);const n=Object.values(t.resultIds).flat(),r=await w(n),o=k(r);a(o),l(o),E(t.next?"https://frontend-take-home-service.fetch.com"+t.next:null),y(t.prev?"https://frontend-take-home-service.fetch.com"+t.prev:null)}else console.log("Could not retrieve dogs")}catch(r){console.error("Error fetching dogs:",r)}};Object(n.useEffect)(()=>{C()},[h,b]),Object(n.useEffect)(()=>{if(t.length>0){const e=k(t);l(e)}},[h,b,t]);const k=e=>e.sort((e,t)=>"asc"===h?e.breed.localeCompare(t.breed)||("asc"===b?e.name.localeCompare(t.name):t.name.localeCompare(e.name)):t.breed.localeCompare(e.breed)||("asc"===b?e.name.localeCompare(t.name):t.name.localeCompare(e.name))),j=e=>{S(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"text-blue-500 text-3xl font-bold text-center my-6"},"Search for your next dog!"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"breedFilter",className:"ml-5 mr-2 font-medium"},"Filter by Breed:"),r.a.createElement("select",{id:"breedFilter",value:s,onChange:async e=>{const t=e.target.value;u(t),t?await C(null,t):await C()},className:"rounded border border-gray-300 p-2"},r.a.createElement("option",{value:""},"All Breeds"),["Affenpinscher","Afghan Hound","African Hunting Dog","Airedale","American Staffordshire Terrier","Appenzeller","Australian Terrier","Basenji","Basset","Beagle","Bedlington Terrier","Bernese Mountain Dog","Black-and-tan Coonhound","Blenheim Spaniel","Bloodhound","Bluetick","Border Collie","Border Terrier","Borzoi","Boston Bull","Bouvier Des Flandres","Boxer","Brabancon Griffon","Briard","Brittany Spaniel","Bull Mastiff","Cairn","Cardigan","Chesapeake Bay Retriever","Chihuahua","Chow","Clumber","Cocker Spaniel","Collie","Curly-coated Retriever","Dandie Dinmont","Dhole","Dingo","Doberman","English Foxhound","English Setter","English Springer","EntleBucher","Eskimo Dog","Flat-coated Retriever","French Bulldog","German Shepherd","German Short-haired Pointer","Giant Schnauzer","Golden Retriever","Gordon Setter","Great Dane","Great Pyrenees","Greater Swiss Mountain Dog","Groenendael","Ibizan Hound","Irish Setter","Irish Terrier","Irish Water Spaniel","Irish Wolfhound","Italian Greyhound","Japanese Spaniel","Keeshond","Kelpie","Kerry Blue Terrier","Komondor","Kuvasz","Labrador Retriever","Lakeland Terrier","Leonberg","Lhasa","Malamute","Malinois","Maltese Dog","Mexican Hairless","Miniature Pinscher","Miniature Poodle","Miniature Schnauzer","Newfoundland","Norfolk Terrier","Norwegian Elkhound","Norwich Terrier","Old English Sheepdog","Otterhound","Papillon","Pekinese","Pembroke","Pomeranian","Pug","Redbone","Rhodesian Ridgeback","Rottweiler","Saint Bernard","Saluki","Samoyed","Schipperke","Scotch Terrier","Scottish Deerhound","Sealyham Terrier","Shetland Sheepdog","Shih-Tzu","Siberian Husky","Silky Terrier","Soft-coated Wheaten Terrier","Staffordshire Bullterrier","Standard Poodle","Standard Schnauzer","Sussex Spaniel","Tibetan Mastiff","Tibetan Terrier","Toy Poodle","Toy Terrier","Vizsla","Walker Hound","Weimaraner","Welsh Springer Spaniel","West Highland White Terrier","Whippet","Wire-haired Fox Terrier","Yorkshire Terrier"].map(e=>r.a.createElement("option",{value:e},e)))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sortBreed",className:"ml-5 mr-2 font-medium"},"Sort by Breed:"),r.a.createElement("select",{id:"sortBreed",value:h,onChange:e=>g(e.target.value),className:"rounded border border-gray-300 p-2"},r.a.createElement("option",{value:"asc"},"Ascending"),r.a.createElement("option",{value:"desc"},"Descending")),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"sortName",className:"ml-5 mr-2 font-medium"},"Sort by Name:"),r.a.createElement("select",{id:"sortName",value:b,onChange:e=>p(e.target.value),className:"rounded border border-gray-300 p-2"},r.a.createElement("option",{value:"asc"},"Ascending"),r.a.createElement("option",{value:"desc"},"Descending")))),r.a.createElement("div",{className:"text-center"},"Match me with a dog based on my favorites: ",r.a.createElement("button",{onClick:async()=>{if(0!==x.length)try{const t=await fetch("https://frontend-take-home-service.fetch.com/dogs/match",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x),credentials:"include"});if(t.ok){const a=await t.json();N(a),console.log("Retrieved a successful match"),console.log(a),e("/match")}else console.log("Could not find a match")}catch(t){console.error("Error finding a match:",t)}else console.log("must add favorites to be matched")},disabled:0===x.length,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-200 disabled:text-gray-500"},"Generate a Match")),r.a.createElement("div",{className:"flex justify-center gap-2"},r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},o.map((e,t)=>r.a.createElement(i,{key:t,dog:e,addFavorites:j,favorites:x})))),r.a.createElement("div",{id:"pagination",className:"flex justify-center items-center gap-4 my-4"},r.a.createElement("button",{onClick:()=>{C(v)},disabled:!v,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-200 disabled:text-gray-500"},"Previous"),r.a.createElement("button",{onClick:()=>{C(f)},disabled:!f,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:bg-gray-200 disabled:text-gray-500"},"Next")),r.a.createElement("div",null,r.a.createElement(m,null)))}var h=()=>{const{match:e}=Object(n.useContext)(d),[t,a]=Object(n.useState)(),o=Object(c.o)();Object(n.useEffect)(()=>{e&&e.match&&(async()=>{try{const t=await fetch("https://frontend-take-home-service.fetch.com/dogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([e.match]),credentials:"include"});if(t.ok){const e=await t.json();console.log("Retrieved single dog data successfully"),console.log(e),console.log(e[0]),a(e[0])}else console.log("Could not retrieve single dog data")}catch(t){console.error("Error fetching dog details:",t)}})()},[e]);return r.a.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen bg-blue-50 p-6"},t?r.a.createElement("div",null,r.a.createElement("h1",{className:"text-3xl font-bold text-blue-700 mb-6"},"You matched with ",t.name,"!"),r.a.createElement("div",{className:"max-w-md rounded overflow-hidden shadow-lg bg-white p-6"},r.a.createElement("img",{className:"w-full h-48 object-cover object-center mb-4",src:t.img,alt:t.name}),r.a.createElement("p",{className:"text-md text-700"},"Breed: ",t.breed),r.a.createElement("p",{className:"text-md text-700"},"Age: ",t.age),r.a.createElement("p",{className:"text-md text-700 mb-4"},"Zip Code: ",t.zip_code))):r.a.createElement("p",{className:"text-lg text-700"},"Loading your match..."),r.a.createElement("button",{onClick:()=>{o("/search")},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-6"},"Return to Search"),r.a.createElement("br",null),r.a.createElement(m,null))},g=a(3);var b=function(){const[e,t]=Object(n.useState)(null);return r.a.createElement(d.Provider,{value:{match:e,setMatch:t}},r.a.createElement(g.a,null,r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",element:r.a.createElement(s,null)}),r.a.createElement(c.a,{path:"/search",element:r.a.createElement(u,null)}),r.a.createElement(c.a,{path:"/match",element:r.a.createElement(h,null)}))))};var p=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:o,getTTFB:l}=t;a(e),n(e),r(e),o(e),l(e)})};a(17);l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null))),p()},7:function(e,t,a){e.exports=a(18)}},[[7,1,2]]]);
//# sourceMappingURL=main.3769898c.chunk.js.map